.class Lcom/sun/glass/ui/monocle/EGL;
.super Ljava/lang/Object;
.source "EGL.java"


# static fields
.field static final EGL_ALPHA_MASK_SIZE:I = 0x303e

.field static final EGL_ALPHA_SIZE:I = 0x3021

.field static final EGL_BACK_BUFFER:I = 0x3084

.field static final EGL_BAD_ACCESS:I = 0x3002

.field static final EGL_BAD_ALLOC:I = 0x3003

.field static final EGL_BAD_ATTRIBUTE:I = 0x3004

.field static final EGL_BAD_CONFIG:I = 0x3005

.field static final EGL_BAD_CONTEXT:I = 0x3006

.field static final EGL_BAD_CURRENT_SURFACE:I = 0x3007

.field static final EGL_BAD_DISPLAY:I = 0x3008

.field static final EGL_BAD_MATCH:I = 0x3009

.field static final EGL_BAD_NATIVE_PIXMAP:I = 0x300a

.field static final EGL_BAD_NATIVE_WINDOW:I = 0x300b

.field static final EGL_BAD_PARAMETER:I = 0x300c

.field static final EGL_BAD_SURFACE:I = 0x300d

.field static final EGL_BIND_TO_TEXTURE_RGB:I = 0x3039

.field static final EGL_BIND_TO_TEXTURE_RGBA:I = 0x303a

.field static final EGL_BLUE_SIZE:I = 0x3022

.field static final EGL_BUFFER_DESTROYED:I = 0x3095

.field static final EGL_BUFFER_PRESERVED:I = 0x3094

.field static final EGL_BUFFER_SIZE:I = 0x3020

.field static final EGL_CLIENT_APIS:I = 0x308d

.field static final EGL_COLOR_BUFFER_TYPE:I = 0x303f

.field static final EGL_CONFIG_CAVEAT:I = 0x3027

.field static final EGL_CONFIG_ID:I = 0x3028

.field static final EGL_CONFORMANT:I = 0x3042

.field static final EGL_CONTEXT_CLIENT_TYPE:I = 0x3097

.field static final EGL_CONTEXT_CLIENT_VERSION:I = 0x3098

.field static final EGL_CONTEXT_LOST:I = 0x300e

.field static final EGL_CORE_NATIVE_ENGINE:I = 0x305b

.field static final EGL_DEFAULT_DISPLAY:J = 0x0L

.field static final EGL_DEPTH_SIZE:I = 0x3025

.field static final EGL_DISPLAY_SCALING:I = 0x2710

.field static final EGL_DONT_CARE:I = -0x1

.field static final EGL_DRAW:I = 0x3059

.field static final EGL_EXTENSIONS:I = 0x3055

.field static final EGL_GREEN_SIZE:I = 0x3023

.field static final EGL_HEIGHT:I = 0x3056

.field static final EGL_HORIZONTAL_RESOLUTION:I = 0x3090

.field static final EGL_LARGEST_PBUFFER:I = 0x3058

.field static final EGL_LEVEL:I = 0x3029

.field static final EGL_LUMINANCE_BUFFER:I = 0x308f

.field static final EGL_LUMINANCE_SIZE:I = 0x303d

.field static final EGL_MATCH_NATIVE_PIXMAP:I = 0x3041

.field static final EGL_MAX_PBUFFER_HEIGHT:I = 0x302a

.field static final EGL_MAX_PBUFFER_PIXELS:I = 0x302b

.field static final EGL_MAX_PBUFFER_WIDTH:I = 0x302c

.field static final EGL_MAX_SWAP_INTERVAL:I = 0x303c

.field static final EGL_MIN_SWAP_INTERVAL:I = 0x303b

.field static final EGL_MIPMAP_LEVEL:I = 0x3083

.field static final EGL_MIPMAP_TEXTURE:I = 0x3082

.field static final EGL_MULTISAMPLE_RESOLVE:I = 0x3099

.field static final EGL_MULTISAMPLE_RESOLVE_BOX:I = 0x309b

.field static final EGL_MULTISAMPLE_RESOLVE_BOX_BIT:I = 0x200

.field static final EGL_MULTISAMPLE_RESOLVE_DEFAULT:I = 0x309a

.field static final EGL_NATIVE_RENDERABLE:I = 0x302d

.field static final EGL_NATIVE_VISUAL_ID:I = 0x302e

.field static final EGL_NATIVE_VISUAL_TYPE:I = 0x302f

.field static final EGL_NONE:I = 0x3038

.field static final EGL_NON_CONFORMANT_CONFIG:I = 0x3051

.field static final EGL_NOT_INITIALIZED:I = 0x3001

.field static final EGL_NO_CONTEXT:J = 0x0L

.field static final EGL_NO_DISPLAY:J = 0x0L

.field static final EGL_NO_SURFACE:J = 0x0L

.field static final EGL_NO_TEXTURE:I = 0x305c

.field static final EGL_OPENGL_API:I = 0x30a2

.field static final EGL_OPENGL_BIT:I = 0x8

.field static final EGL_OPENGL_ES:I = 0x2

.field static final EGL_OPENGL_ES_API:I = 0x30a0

.field static final EGL_OPENGL_ES_BIT:I = 0x1

.field static final EGL_OPENVG_API:I = 0x30a1

.field static final EGL_OPENVG_BIT:I = 0x2

.field static final EGL_OPENVG_IMAGE:I = 0x3096

.field static final EGL_PBUFFER_BIT:I = 0x1

.field static final EGL_PIXEL_ASPECT_RATIO:I = 0x3092

.field static final EGL_PIXMAP_BIT:I = 0x2

.field static final EGL_READ:I = 0x305a

.field static final EGL_RED_SIZE:I = 0x3024

.field static final EGL_RENDERABLE_TYPE:I = 0x3040

.field static final EGL_RENDER_BUFFER:I = 0x3086

.field static final EGL_RGB_BUFFER:I = 0x308e

.field static final EGL_SAMPLES:I = 0x3031

.field static final EGL_SAMPLE_BUFFERS:I = 0x3032

.field static final EGL_SINGLE_BUFFER:I = 0x3085

.field static final EGL_SLOW_CONFIG:I = 0x3050

.field static final EGL_STENCIL_SIZE:I = 0x3026

.field static final EGL_SUCCESS:I = 0x3000

.field static final EGL_SURFACE_TYPE:I = 0x3033

.field static final EGL_SWAP_BEHAVIOR:I = 0x3093

.field static final EGL_SWAP_BEHAVIOR_PRESERVED_BIT:I = 0x400

.field static final EGL_TEXTURE_2D:I = 0x305f

.field static final EGL_TEXTURE_FORMAT:I = 0x3080

.field static final EGL_TEXTURE_RGB:I = 0x305d

.field static final EGL_TEXTURE_RGBA:I = 0x305e

.field static final EGL_TEXTURE_TARGET:I = 0x3081

.field static final EGL_TRANSPARENT_BLUE_VALUE:I = 0x3035

.field static final EGL_TRANSPARENT_GREEN_VALUE:I = 0x3036

.field static final EGL_TRANSPARENT_RED_VALUE:I = 0x3037

.field static final EGL_TRANSPARENT_RGB:I = 0x3052

.field static final EGL_TRANSPARENT_TYPE:I = 0x3034

.field static final EGL_UNKNOWN:I = -0x1

.field static final EGL_VENDOR:I = 0x3053

.field static final EGL_VERSION:I = 0x3054

.field static final EGL_VERTICAL_RESOLUTION:I = 0x3091

.field static final EGL_VG_ALPHA_FORMAT:I = 0x3088

.field static final EGL_VG_ALPHA_FORMAT_NONPRE:I = 0x308b

.field static final EGL_VG_ALPHA_FORMAT_PRE:I = 0x308c

.field static final EGL_VG_ALPHA_FORMAT_PRE_BIT:I = 0x40

.field static final EGL_VG_COLORSPACE:I = 0x3087

.field static final EGL_VG_COLORSPACE_LINEAR:I = 0x308a

.field static final EGL_VG_COLORSPACE_LINEAR_BIT:I = 0x20

.field static final EGL_VG_COLORSPACE_sRGB:I = 0x3089

.field static final EGL_WIDTH:I = 0x3057

.field static final EGL_WINDOW_BIT:I = 0x4

.field private static eglWindowSurface:J

.field private static instance:Lcom/sun/glass/ui/monocle/EGL;

.field private static permission:Ljava/security/Permission;


# direct methods
.method static constructor <clinit>()V
    .locals 4

    .prologue
    .line 34
    const-wide/16 v0, 0x0

    sput-wide v0, Lcom/sun/glass/ui/monocle/EGL;->eglWindowSurface:J

    .line 151
    new-instance v0, Ljava/lang/RuntimePermission;

    move-object v3, v0

    move-object v0, v3

    move-object v1, v3

    const-string v2, "loadLibrary.*"

    invoke-direct {v1, v2}, Ljava/lang/RuntimePermission;-><init>(Ljava/lang/String;)V

    sput-object v0, Lcom/sun/glass/ui/monocle/EGL;->permission:Ljava/security/Permission;

    .line 153
    new-instance v0, Lcom/sun/glass/ui/monocle/EGL;

    move-object v3, v0

    move-object v0, v3

    move-object v1, v3

    invoke-direct {v1}, Lcom/sun/glass/ui/monocle/EGL;-><init>()V

    sput-object v0, Lcom/sun/glass/ui/monocle/EGL;->instance:Lcom/sun/glass/ui/monocle/EGL;

    return-void
.end method

.method private constructor <init>()V
    .locals 2

    .prologue
    .line 155
    move-object v0, p0

    .local v0, "this":Lcom/sun/glass/ui/monocle/EGL;
    move-object v1, v0

    invoke-direct {v1}, Ljava/lang/Object;-><init>()V

    return-void
.end method

.method private static checkPermissions()V
    .locals 3

    .prologue
    .line 168
    invoke-static {}, Ljava/lang/System;->getSecurityManager()Ljava/lang/SecurityManager;

    move-result-object v1

    move-object v0, v1

    .line 169
    .local v0, "security":Ljava/lang/SecurityManager;
    move-object v1, v0

    if-eqz v1, :cond_0

    .line 170
    move-object v1, v0

    sget-object v2, Lcom/sun/glass/ui/monocle/EGL;->permission:Ljava/security/Permission;

    invoke-virtual {v1, v2}, Ljava/lang/SecurityManager;->checkPermission(Ljava/security/Permission;)V

    .line 172
    :cond_0
    return-void
.end method

.method static getEGL()Lcom/sun/glass/ui/monocle/EGL;
    .locals 1

    .prologue
    .line 163
    invoke-static {}, Lcom/sun/glass/ui/monocle/EGL;->checkPermissions()V

    .line 164
    sget-object v0, Lcom/sun/glass/ui/monocle/EGL;->instance:Lcom/sun/glass/ui/monocle/EGL;

    return-object v0
.end method


# virtual methods
.method native _eglCreateWindowSurface(JJJ[I)J
.end method

.method native eglBindAPI(I)Z
.end method

.method native eglChooseConfig(J[I[JI[I)Z
.end method

.method native eglContextFromConfig(JJ)J
.end method

.method native eglCreateContext(JJJ[I)J
.end method

.method eglCreateWindowSurface(JJJ[I)J
    .locals 17

    .prologue
    .line 197
    move-object/from16 v1, p0

    .local v1, "this":Lcom/sun/glass/ui/monocle/EGL;
    move-wide/from16 v2, p1

    .local v2, "eglDisplay":J
    move-wide/from16 v4, p3

    .local v4, "eglConfig":J
    move-wide/from16 v6, p5

    .local v6, "nativeWindow":J
    move-object/from16 v8, p7

    .local v8, "attribs":[I
    sget-wide v9, Lcom/sun/glass/ui/monocle/EGL;->eglWindowSurface:J

    const-wide/16 v11, 0x0

    cmp-long v9, v9, v11

    if-nez v9, :cond_0

    .line 198
    move-object v9, v1

    move-wide v10, v2

    move-wide v12, v4

    move-wide v14, v6

    move-object/from16 v16, v8

    invoke-virtual/range {v9 .. v16}, Lcom/sun/glass/ui/monocle/EGL;->_eglCreateWindowSurface(JJJ[I)J

    move-result-wide v9

    sput-wide v9, Lcom/sun/glass/ui/monocle/EGL;->eglWindowSurface:J

    .line 202
    :cond_0
    sget-wide v9, Lcom/sun/glass/ui/monocle/EGL;->eglWindowSurface:J

    move-wide v1, v9

    .end local v1    # "this":Lcom/sun/glass/ui/monocle/EGL;
    return-wide v1
.end method

.method native eglDestroyContext(JJ)Z
.end method

.method eglErrorToString(I)Ljava/lang/String;
    .locals 15

    .prologue
    .line 246
    move-object v0, p0

    .local v0, "this":Lcom/sun/glass/ui/monocle/EGL;
    move/from16 v1, p1

    .local v1, "errorCode":I
    move v7, v1

    const/16 v8, 0x3000

    if-lt v7, v8, :cond_1

    move v7, v1

    const/16 v8, 0x3020

    if-ge v7, v8, :cond_1

    .line 247
    const-class v7, Lcom/sun/glass/ui/monocle/EGL;

    invoke-virtual {v7}, Ljava/lang/Class;->getFields()[Ljava/lang/reflect/Field;

    move-result-object v7

    move-object v2, v7

    move-object v7, v2

    array-length v7, v7

    move v3, v7

    const/4 v7, 0x0

    move v4, v7

    :goto_0
    move v7, v4

    move v8, v3

    if-ge v7, v8, :cond_1

    move-object v7, v2

    move v8, v4

    aget-object v7, v7, v8

    move-object v5, v7

    .line 249
    .local v5, "field":Ljava/lang/reflect/Field;
    move-object v7, v5

    :try_start_0
    invoke-virtual {v7}, Ljava/lang/reflect/Field;->getName()Ljava/lang/String;

    move-result-object v7

    const-string v8, "EGL_"

    invoke-virtual {v7, v8}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v7

    if-eqz v7, :cond_0

    move-object v7, v5

    .line 250
    invoke-virtual {v7}, Ljava/lang/reflect/Field;->getType()Ljava/lang/Class;

    move-result-object v7

    sget-object v8, Ljava/lang/Integer;->TYPE:Ljava/lang/Class;

    if-ne v7, v8, :cond_0

    move-object v7, v5

    const/4 v8, 0x0

    .line 251
    invoke-virtual {v7, v8}, Ljava/lang/reflect/Field;->getInt(Ljava/lang/Object;)I

    move-result v7

    move v8, v1

    if-ne v7, v8, :cond_0

    .line 252
    move-object v7, v5

    invoke-virtual {v7}, Ljava/lang/reflect/Field;->getName()Ljava/lang/String;
    :try_end_0
    .catch Ljava/lang/IllegalAccessException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v7

    move-object v0, v7

    .line 261
    .end local v0    # "this":Lcom/sun/glass/ui/monocle/EGL;
    .end local v5    # "field":Ljava/lang/reflect/Field;
    :goto_1
    return-object v0

    .line 255
    .line 247
    .restart local v0    # "this":Lcom/sun/glass/ui/monocle/EGL;
    .restart local v5    # "field":Ljava/lang/reflect/Field;
    :cond_0
    :goto_2
    add-int/lit8 v4, v4, 0x1

    goto :goto_0

    .line 254
    :catch_0
    move-exception v7

    move-object v6, v7

    goto :goto_2

    .line 258
    .end local v5    # "field":Ljava/lang/reflect/Field;
    :cond_1
    new-instance v7, Ljava/util/Formatter;

    move-object v14, v7

    move-object v7, v14

    move-object v8, v14

    invoke-direct {v8}, Ljava/util/Formatter;-><init>()V

    const-string v8, "0x%04x"

    const/4 v9, 0x1

    new-array v9, v9, [Ljava/lang/Object;

    move-object v14, v9

    move-object v9, v14

    move-object v10, v14

    const/4 v11, 0x0

    move v12, v1

    const v13, 0xffff

    and-int/2addr v12, v13

    .line 259
    invoke-static {v12}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    aput-object v12, v10, v11

    invoke-virtual {v7, v8, v9}, Ljava/util/Formatter;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/util/Formatter;

    move-result-object v7

    .line 260
    invoke-virtual {v7}, Ljava/util/Formatter;->out()Ljava/lang/Appendable;

    move-result-object v7

    .line 261
    invoke-virtual {v7}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v7

    move-object v0, v7

    goto :goto_1
.end method

.method native eglGetConfigAttrib(JJI[I)Z
.end method

.method native eglGetDisplay(J)J
.end method

.method native eglGetError()I
.end method

.method native eglInitialize(J[I[I)Z
.end method

.method native eglMakeCurrent(JJJJ)Z
.end method

.method native eglQueryString(JI)Ljava/lang/String;
.end method

.method native eglQueryVersion(JI)Ljava/lang/String;
.end method

.method native eglSwapBuffers(JJ)Z
.end method

.method native loadFunctions(J)V
.end method
